# Onset!

## What is "Onset"?
Onsetとはスマホ対応のオンセ環境です。  
BCDiceを導入しているので、手軽にダイスロールなども楽しめます。 

<<<<<<< HEAD
## Version
2.0.4A "phi" : BCDice更新・MITライセンス  
2.0.3A "はじまりの時" : API追加 リファクタリング  
2.0.2A "はじまりの道" : UIをBootstrap化  
2.0.1A "はじまりへ"   : 部屋データの管理をJSON化しました  
2.0.0A "はじまり"     : 「あやなみ」をフォーク  

## Features
+ 自動部屋削除機能
+ ネットワーク機能

## Licenses
+ BCDice 修正BSDライセンス下
=======
version-2.0.3_あやなみ(ayanami)  
  
##2.0.3の改善点  
自動部屋削除機能と、動作確認ページを作りました  
src/config.phpの中の設定から、部屋が自動で消えるまでの時間を設定できるようにしました  
自動削除機能は、**最終アクセス日時からの経過時間で**消えます  
  
動作確認ページは、src/checkStatus.phpにアクセスするとOnset!の設定にエラーが無いか確認できるようになりました  
まだ簡易的なものですが、今後管理機能についても充実させていく方向です  
  
上二つの機能追加により、自鯖を建てる/管理する難易度が少し下がったと思います  
もし躓いた場合は[きりだるま](https://twitter.com/kiridaruma)まで連絡下されば、できる限りお手伝いします  
  
###テクニカルノート  
index.phpにアクセスした際にajaxでsrc/delLeftRoom.phpへアクセスするようにしました  
delLeftRoom.php内で最終更新時間に基づいて部屋を消すようにしています  
*追記:この方法だとサーバーに負荷がかかりそうでやや心配しています*  
*様子を見て負荷が気になったら削除かロジック変更を考えています*
  
動作確認ページはソースを見てもらったほうが早いと思います  
今のところは  
+ bcdiceへアクセスしてhttp200が返ってくるか  
+ 部屋の保存データの書き込み権と読み取り権があるか  
+ src/直下のphpファイル群にアクセスできるかどうか  

を確認しています  
今は簡単なものですが、後々はコンソールパネル的なのを作りたいなぁとか考えています  
  
今後追加予定の機能
+ ネットワーク機能
+ 管理コンソール機能
>>>>>>> 8878339559eac70fe28cbb350100e1e3006a44c2
