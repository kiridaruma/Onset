# Onset!

Onset is simple online TRPG chat

version-2.0.3_あやなみ(ayanami)  
  
##2.0.3の改善点  
自動部屋削除機能と、動作確認ページを作りました  
src/config.phpの中の設定から、部屋が自動で消えるまでの時間を設定できるようにしました  
自動削除機能は、**最終アクセス日時からの経過時間で**消えます  
  
動作確認ページは、src/checkStatus.phpにアクセスするとOnset!の設定にエラーが無いか確認できるようになりました  
まだ簡易的なものですが、今後管理機能についても充実させていく方向です  
  
上二つの機能追加により、自鯖を建てる/管理する難易度が少し下がったと思います  
もし躓いた場合は[きりだるま](https://twitter.com/kiridaruma)まで連絡下されば、できる限りお手伝いします  
  
###テクニカルノート  
index.phpにアクセスした際にajaxでsrc/delLeftRoom.phpへアクセスするようにしました  
delLeftRoom.php内で最終更新時間に基づいて部屋を消すようにしています  
*追記:この方法だとサーバーに負荷がかかりそうでやや心配しています*  
*様子を見て負荷が気になったら削除かロジック変更を考えています*
  
動作確認ページはソースを見てもらったほうが早いと思います  
今のところは  
+ bcdiceへアクセスしてhttp200が返ってくるか  
+ 部屋の保存データの書き込み権と読み取り権があるか  
+ src/直下のphpファイル群にアクセスできるかどうか  

を確認しています  
今は簡単なものですが、後々はコンソールパネル的なのを作りたいなぁとか考えています  
  
今後追加予定の機能
+ ネットワーク機能
+ 管理コンソール機能